<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Puslemäng - ZIM teek</title>
    <!-- Welcome to ZIM at http://zimjs.com - Code Interactive Media Pizzazz! 	        -->
    <!-- ZIM runs on the HTML Canvas powered by JavaScript and CreateJS http://createjs.com -->
    <!-- Founded by Inventor Dan Zen - http://danzen.com - Canadian New Media Award Winner 	-->
    <!-- ZIM is free to use. You can donate to help improve ZIM at http://zimjs.com/donate 	-->
    <link rel="stylesheet" type="text/css" href="index.css" />
    <script src="https://d309knd7es5f10.cloudfront.net/createjs_1.1_min.js"></script>
    <script>
      var zon = true; // set to false to turn off console messages from zim
      var zns = false; // set to true to require zim namespace - eg. new zim.Frame()
    </script>
    <script src="../../live/zim_9.4.2_doc.js"></script>
    <!-- use zimjs.com/distill for minified individual functions! -->
    <script src="https://d309knd7es5f10.cloudfront.net/pizzazz_02.js"></script>
    <script src="https://d309knd7es5f10.cloudfront.net/zim_6.9.0.js"></script>
    <!-- use zimjs.com/distill for minified individual functions! -->
    <script type="text/javascript" src="index.js"></script>
    <meta name="viewport" content="width=device-width, user-scalable=no" />
  </head>
  <body>
    <div id="canvasDiv">
      <!-- canvas with id="myCanvas" is made by zim Frame -->
    </div>
    <div class="audios">
      <audio
        class="audio"
        id="puzzlePieceRight"
        src="assets/puzzlePieceRight.mp3"
      ></audio>
      <audio
        class="audio"
        id="puzzleCompleted"
        src="assets/puzzleCompleted.mp3"
      ></audio>
    </div>
    <div class="onoffswitch">
      <input
        onclick="muteSound()"
        type="checkbox"
        name="onoffswitch"
        class="onoffswitch-checkbox"
        id="myonoffswitch"
        checked="checked"
      />
      <label class="onoffswitch-label" for="myonoffswitch">
        <span class="onoffswitch-inner"></span>
      </label>
    </div>
    <div class="dropdown">
      <button onclick="dropdown()" class="dropbtn"></button>
      <div id="myDropdown" class="dropdown-content">
        <h>Tükkide arv</a>
        <a type="button" onclick="chooseSettings()" class="ddbuttons">3x3</a>
        <a type="button" onclick="chooseSettings1()" class="ddbuttons">4x4</a>
        <a type="button" onclick="chooseSettings2()" class="ddbuttons">5x5</a>
      </div>
    </div>
    <!--image from https://pixabay.com/vectors/wrench-tool-settings-spanner-gear-47453/ but changed-->
    <script>
      function muteSound() {
        const switcher = document.querySelector("#myonoffswitch");
        const audios = document.querySelectorAll(".audio");
        audios.forEach(el => {
          el.muted = !switcher.checked;
          //Kui tahta, et kohesel heli uuesti sisselülitamisel ei kõlaks audio osa, mis pola veel läbi saanud. 
          //Muidu ilma if-ita audio fail käib ka mute peal edasi, kuigi seda ei kuule ning heli mute pealt 
          //koheselt maha võttes, kuuleb seda edasi.
          if(el.muted){
            el.currentTime=10;
          }
          
        });
      }
      window.onload = function() {
        muteSound();
      }
      /* When the user clicks on the button, 
      toggle between hiding and showing the dropdown content */
      function dropdown() {
      document.getElementById("myDropdown").classList.toggle("show");
      }
  
      // Close the dropdown menu if the user clicks outside of it
      window.onclick = function(event) {
        if (!event.target.matches('.dropbtn')) {
          var dropdowns = document.getElementsByClassName("dropdown-content");
          var i;
          for (i = 0; i < dropdowns.length; i++) {
            var openDropdown = dropdowns[i];
            if (openDropdown.classList.contains('show')) {
              openDropdown.classList.remove('show');
            }
          }
        }
      }
    </script>
  </body>
</html>
